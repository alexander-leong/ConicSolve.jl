<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Trajectory Optimization · ConicSolve.jl</title><meta name="title" content="Trajectory Optimization · ConicSolve.jl"/><meta property="og:title" content="Trajectory Optimization · ConicSolve.jl"/><meta property="twitter:title" content="Trajectory Optimization · ConicSolve.jl"/><meta name="description" content="Documentation for ConicSolve.jl."/><meta property="og:description" content="Documentation for ConicSolve.jl."/><meta property="twitter:description" content="Documentation for ConicSolve.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="ConicSolve.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">ConicSolve.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Readme</a></li><li><a class="tocitem" href="../design.html">Design</a></li><li><a class="tocitem" href="../tutorial.html">Tutorial</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="maximum_flow.html">Maximum Flow Minimum Cut</a></li><li><a class="tocitem" href="phase_cut.html">Phase Retrieval</a></li><li><a class="tocitem" href="beamforming.html">Phased Array Diagram Matching</a></li><li><a class="tocitem" href="portfolio.html">Portfolio Optimization</a></li><li><a class="tocitem" href="quantum_separability.html">Quantum Separability</a></li><li><a class="tocitem" href="denoise.html">Rank Minimization</a></li><li><a class="tocitem" href="total_variation_reconstruction.html">Total Variation Reconstruction</a></li><li class="is-active"><a class="tocitem" href="trajectory_optimization.html">Trajectory Optimization</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#How-to-run-the-example"><span>How to run the example</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../functions.html">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href="trajectory_optimization.html">Trajectory Optimization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="trajectory_optimization.html">Trajectory Optimization</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/alexander-leong/ConicSolve.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Trajectory-Optimization"><a class="docs-heading-anchor" href="#Trajectory-Optimization">Trajectory Optimization</a><a id="Trajectory-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Trajectory-Optimization" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>Optimizing a trajectory is a typical problem in motion planning applications such as robotics. Representing a trajectory using polynomials allows one to express an optimization problem solved using sum-of-squares programming. Since a trajectory in this example uses univariate polynomials, a sum-of-squares optimization problem will be equivalent to solving a semidefinite program which we know how to solve, cf. <a href="https://www.mit.edu/~parrilo/sdocag/MO13-Blekherman-Parrilo-Thomas.pdf">Blekherman, Parrilo, Thomas, Semidefinite Optimization and Convex Algebraic Geometry</a>.</p><p>The optimization problem to be solved will be mathematically expressed as follows:</p><p class="math-container">\[\begin{aligned}
\text{minimize}\qquad &amp;
p^{&#39;&#39;&#39;}(t) \\
\text{subject to}\qquad &amp;
p(t) \text{ is SOS}\\ &amp;
p(0) = 0\\ &amp;
p(1) = 5\\ &amp;
p^{&#39;}(0) \le 1.2\\ &amp;
p^{&#39;}(1) \le 2.5
\end{aligned}\]</p><p>where <span>$p(t) = a_nt^n + a_{n-1}t^{n-1} + ... + a_1t^1 + a_0$</span></p><p>In other words, we want to minimize the jerk (third derivative of position) such that the square of the coefficients are SOS and the initial position, final position, initial velocity and final velocity are given.</p><h2 id="How-to-run-the-example"><a class="docs-heading-anchor" href="#How-to-run-the-example">How to run the example</a><a id="How-to-run-the-example-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-run-the-example" title="Permalink"></a></h2><ol><li>Ensure that you have the necessary dependencies installed. These can be installed by executing the following commands:</li></ol><pre><code class="language-julia hljs">julia&gt; ]
pkg&gt; activate .
pkg&gt; add Polynomials

pkg&gt; add ConicSolve
julia&gt; exit()</code></pre><ol><li>Run the example from the command line</li></ol><pre><code class="language-bash hljs">julia example.jl</code></pre><h3 id="Explanation"><a class="docs-heading-anchor" href="#Explanation">Explanation</a><a id="Explanation-1"></a><a class="docs-heading-anchor-permalink" href="#Explanation" title="Permalink"></a></h3><h4 id="Data-Acquisition"><a class="docs-heading-anchor" href="#Data-Acquisition">Data Acquisition</a><a id="Data-Acquisition-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Acquisition" title="Permalink"></a></h4><p>This is a simple toy problem setup. No data has been imported in this example.</p><h4 id="Solve-the-problem"><a class="docs-heading-anchor" href="#Solve-the-problem">Solve the problem</a><a id="Solve-the-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Solve-the-problem" title="Permalink"></a></h4><p>(i) Create a fourth order polynomial with all coefficients set to 1 like so:</p><pre><code class="language-julia hljs">s = Polynomial([1, 1, 1, 1, 1], :t)</code></pre><p>(ii) Create an SOS object and set a diagonal constraint on the Q matrix to readily resolve the coefficients of the fourth order polynomial</p><pre><code class="language-julia hljs">sos = SOS(s)</code></pre><p>(iii) Set any other constraints, in this example, the initial position (to 0 at t = 0), final position (to 5 at t = 1), initial velocity (&lt;= 1.2 at t = 0) and final velocity (&lt;= 2.5 at t = 1)</p><pre><code class="language-julia hljs">v_sos = derivative(s)
p = evaluate_monomials(s, 0)
add_polynomial_equality_constraint(sos, 0, p)
p = evaluate_monomials(s, 1)
add_polynomial_equality_constraint(sos, 5, p)
p = evaluate_monomials(v_sos, 0)
add_polynomial_inequality_constraint(sos, 1.2, p)
p = evaluate_monomials(v_sos, 1)
add_polynomial_inequality_constraint(sos, 2.5, p)</code></pre><p>(iv) Set the objective by setting the vector c</p><pre><code class="language-julia hljs">c = zeros(size(sos.A)[2])
c[1] = 1
set_objective(sos, c)</code></pre><p>(v) Get QP and solve</p><pre><code class="language-julia hljs">cone_qp = get_qp(sos)
solver = Solver(cone_qp)
`run_solver`(solver)</code></pre><p>(vi) Get solution from solver, i.e. values of Q</p><pre><code class="language-julia hljs">x = get_solution(solver)</code></pre><p>(vii) Reconstruct polynomial (see below)</p><h4 id="Get-the-solution"><a class="docs-heading-anchor" href="#Get-the-solution">Get the solution</a><a id="Get-the-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Get-the-solution" title="Permalink"></a></h4><p>The solution is given by the value of the coefficients for each of the Q values that constitute the SOS decomposition. Therefore to recover the coefficients of the monomial terms of the polynomial of interest is just to sum the coefficients of the same order. i.e.</p><p class="math-container">\[\begin{align*}
a_0 &amp;= Q_{55} \\
a_1 &amp;= Q_{54} + Q_{45} \\
a_2 &amp;= Q_{44} + Q_{53} + Q_{35} \\
a_3 &amp;= Q_{43} + Q_{52} + Q_{34} + Q_{25}
\end{align*}\]</p><p>for a 4th order polynomial with the following quadratic form</p><p class="math-container">\[p(t) = \begin{bmatrix} t^4 &amp; t^3 &amp; t^2 &amp; t^1 &amp; 1 \end{bmatrix}
\begin{bmatrix}
Q_{11} &amp; Q_{12} &amp; Q_{13} &amp; Q_{14} &amp; Q_{15} \\
Q_{21} &amp; Q_{22} &amp; Q_{23} &amp; Q_{24} &amp; Q_{25} \\
Q_{31} &amp; Q_{32} &amp; Q_{33} &amp; Q_{34} &amp; Q_{35} \\
Q_{41} &amp; Q_{42} &amp; Q_{43} &amp; Q_{44} &amp; Q_{45} \\
Q_{51} &amp; Q_{52} &amp; Q_{53} &amp; Q_{54} &amp; Q_{55}
\end{bmatrix}
\begin{bmatrix} t^4 \\ t^3 \\ t^2 \\ t^1 \\ 1 \end{bmatrix}\]</p><p>which expands to:</p><p class="math-container">\[p(t) = a_0 + a_1*t + a_2*t^2 + a_3*t^3 + a_4*t^4\]</p><p>In using a higher degree polynomial we&#39;re more likely to find that it belongs to SOS.</p><h4 id="Further-Comments"><a class="docs-heading-anchor" href="#Further-Comments">Further Comments</a><a id="Further-Comments-1"></a><a class="docs-heading-anchor-permalink" href="#Further-Comments" title="Permalink"></a></h4><p>We can impose further constraints such as polyhedral constraints for collision avoidance (see <a href="https://github.com/alexander-leong/MotionPlanningOptimization.jl">MotionPlanningOptimization.jl</a>).</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="total_variation_reconstruction.html">« Total Variation Reconstruction</a><a class="docs-footer-nextpage" href="../functions.html">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 26 June 2025 14:00">Thursday 26 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
